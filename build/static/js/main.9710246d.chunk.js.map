{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Number.js","components/Persons.js","services/persons.js","components/Error.js","App.js","index.js"],"names":["Filter","filterInput","handleFilterInputChange","value","onChange","PersonForm","props","onSubmit","handleAddPerson","newName","handleNameChange","newNumber","handleNumberChange","type","Number","person","handleDelete","name","number","onClick","Persons","persons","filter","toLowerCase","includes","map","baseUrl","axios","get","then","response","data","post","id","put","delete","Error","message","notificationStyle","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","content","style","App","useState","setPersons","setNewName","setNewNumber","setFilter","setMessage","newPerson","useEffect","personService","allPersons","showNotification","setTimeout","onFilterChange","event","target","addedPerson","preventDefault","length","nameAlreadyExists","window","confirm","existingPerson","find","p","updatedPerson","returnedPerson","catch","_","isError","handleUpdatePerson","concat","deletedPerson","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9710246d.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({ filterInput, handleFilterInputChange }) => {\n  return (\n    <p>\n      filter shown with <input value={filterInput} onChange={handleFilterInputChange} />\n    </p>\n  )\n}\n\nexport default Filter\n","import React from 'react'\n\nconst PersonForm = (props) => (\n    <form onSubmit={props.handleAddPerson}>\n      <div>\n        name: <input value={props.newName} onChange={props.handleNameChange} />\n      </div>\n      <div>\n        number: <input value={props.newNumber} onChange={props.handleNumberChange} />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n)\n\nexport default PersonForm\n","import React from 'react'\n\nconst Number = ({person, handleDelete}) => (\n    <p>{person.name} {person.number} <button onClick={() => handleDelete(person)}>delete</button></p>\n)\n\nexport default Number\n","import React from 'react'\nimport Number from './Number'\n\nconst Persons = ({persons, filter, handleDelete}) => {\n    const caseinsensitiveFilter = (person) => (\n      person.name.toLowerCase().includes(\n        filter.toLowerCase()\n      )\n    )\n    return (\n      <p>\n        {persons\n          .filter(caseinsensitiveFilter)\n          .map(person => <Number key={person.name} person={person} handleDelete={handleDelete}/>)}\n      </p>\n    )\n  }\n\nexport default Persons\n","import axios from 'axios';\n\nconst baseUrl = 'http://localhost:3001/persons';\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n\n  return request.then((response) => response.data);\n};\n\nconst create = (person) => {\n  const request = axios.post(baseUrl, person);\n\n  return request.then((response) => response.data);\n};\n\nconst update = (id, person) => {\n  const request = axios.put(`${baseUrl}/${id}`, person);\n\n  return request.then((response) => response.data);\n};\n\nconst remove = (id) => axios.delete(`${baseUrl}/${id}`);\n\nexport default { getAll, create, update, remove };\n","import PropTypes from 'prop-types';\nimport React from 'react';\n\nconst Error = ({ message }) => {\n  const notificationStyle = {\n    color: message.color,\n    background: 'lightgrey',\n    fontSize: '20px',\n    borderStyle: 'solid',\n    borderRadius: '5px',\n    padding: '10px',\n    marginBottom: '10px'\n  };\n\n  if (message.content === null) {\n    return null;\n  }\n\n  return <div style={notificationStyle}>{message.content}</div>;\n};\n\nError.propTypes = {\n  message: PropTypes.objectOf(PropTypes.string).isRequired\n};\n\nexport default Error;\n","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport personService from './services/persons'\nimport Error from './components/Error'\n\n\nconst App = () => {\n\n  const [ persons, setPersons] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ filter, setFilter ] = useState('')\n  const [ message, setMessage ] = useState({content: null})\n\n  const newPerson = {\n    name: newName,\n    number: newNumber\n  }\n\n  const nameAlreadyExists = (persons, name) => {\n    return persons.filter(person=>person.name === name).length\n  }\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(allPersons =>\n        setPersons(allPersons)\n        )\n    }, [])\n\n  const showNotification = (content, color = 'green') => {\n    setMessage({ content, color });\n    setTimeout(() => {\n      setMessage({ content: null });\n    }, 5000);\n  };\n\n\n  const handleNameChange = (event) => setNewName(event.target.value)\n  const handleNumberChange = (event) => setNewNumber(event.target.value)\n  const handleFilterChange = (event) => setFilter(event.target.value)\n\n  const handleUpdatePerson = (name) => {\n    const existingPerson = persons.find(p => p.name === name)\n    const updatedPerson = {...existingPerson, number: newNumber}\n\n    personService\n     .update(updatedPerson.id, updatedPerson)\n     .then(returnedPerson => {\n       setPersons(\n         persons.map(\n           person =>\n             person.id !== existingPerson.id ? person: returnedPerson\n           )\n         )\n       showNotification(`Updated ${updatedPerson.name}`)\n       })\n     .catch(_ => {\n       setMessage({content: `Information of ${name} has already been removed from server`, isError: true})\n     })\n  }\n\n  const handleAddPerson = addedPerson => {\n    addedPerson.preventDefault()\n\n    if (nameAlreadyExists(persons, newName)) {\n      const acceptModification = window.confirm(\n        `${newName} is already added to phonebook, replace the old number with a new one?`\n        )\n\n      if (acceptModification) {\n        handleUpdatePerson(newName)\n      }\n    } else {\n        personService.create(newPerson)\n        .then(newPerson => {\n            setPersons(persons.concat(newPerson))\n            showNotification(`Added ${newPerson.name}`)\n        })\n        setNewName('')\n        setNewNumber('')\n    }\n  }\n\n  const handleDelete = deletedPerson => {\n    const accepted = window.confirm(`Delete ${deletedPerson.name}?`)\n    if (accepted) {\n      personService\n        .remove(deletedPerson.id)\n        .then(() => {\n          setPersons(persons.filter(person => person.id !== deletedPerson.id))\n          showNotification(`Deleted ${deletedPerson.name}`)\n        })\n      }\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Error message={message} />\n      <Filter filter={filter} onFilterChange={handleFilterChange}/>\n      <h2>add a new</h2>\n      <PersonForm handleAddPerson={handleAddPerson} handleNameChange={handleNameChange} handleNumberChange={handleNumberChange} newName={newName} newNumber={newNumber}/>\n      <h2>Numbers</h2>\n      <Persons persons={persons} filter={filter} handleDelete={handleDelete}/>\n    </div>\n  )\n\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}